{% extends 'partials/base.html.twig' %}

{% if page.header.show_breadcrumbs is defined %}
  {% set show_breadcrumbs = page.header.show_breadcrumbs %}
{% else %}
  {% set show_breadcrumbs = true %}
{% endif %}

{% block menu %}
  {% include 'partials/sidebar_right.html.twig' %}
{% endblock %}

{% block content %}
  {% if show_breadcrumbs and config.plugins.breadcrumbs.enabled %}
    {% include 'partials/breadcrumbs.html.twig' %}
  {% endif %}

  <article class="post simplesearch">
    <header>
      <div class="title">
        {% block results %}
          <div class="content-padding simplesearch">
            <h1 class="search-header">{{ "PLUGIN_SIMPLESEARCH.SEARCH_RESULTS"|t }}</h1>
            <div class="center">
              {% include 'partials/simplesearch_searchbox_results.html.twig' %}
            </div>
            <p class="published">
              {% if query %}
                {% set count = search_results ? search_results.count : 0 %}
                {% if count is same as( 1 ) %}
                  {{ "PLUGIN_SIMPLESEARCH.SEARCH_RESULTS_SUMMARY_SINGULAR"|t(query|e)|raw }}
                {% else %}
                  {{ "PLUGIN_SIMPLESEARCH.SEARCH_RESULTS_SUMMARY_PLURAL"|t(query|e, count)|raw }}
                {% endif %}
              {% endif %}
            </p>
          </div>
        {% endblock %}
      </div>
    </header>
    {% for page in search_results %}
      {% include 'partials/simplesearch_item.html.twig' with {'page':page} %}
    {% endfor %}
  </article>

  {% if theme_config.sidebar == false %}
    <section id="footer" class="align-center">
      {% include 'partials/footer.html.twig' %}
    </section>
  {% endif %}
{% endblock %}

{% block sidebar %}
  {% if theme_config.sidebar == true %}
    {% include 'partials/sidebar_left.html.twig' %}
  {% endif %}
{% endblock %}
